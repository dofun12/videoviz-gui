<app-menubar></app-menubar>
<div class="container-fluid">
  <div class="row form-group">
    <div class="col-12">
      <label>PageUrl: </label>
      <input class="form-control" [(ngModel)]="pageUrl"/>
    </div>
    <div class="col-12">
      <label>Download URL: </label>
      <input class="form-control" [(ngModel)]="downloadUrl"/>
    </div>
    <div class="col-6" style="padding-top: 10px;">
      <div class="btn btn-info form-control" (click)="adicionarAFila()">Adicionar</div>
    </div>
    <div class="col-6" style="padding-top: 10px;">
      <div class="btn btn-info form-control" (click)="updateQueueItem()">Atualizar</div>
    </div>
    <div class="col-6" style="padding-top: 10px;">
      <div class="btn btn-info form-control" (click)="processarColetor()">Processar</div>
    </div>
  </div>
</div>
<div class="container-fluid" style="overflow: auto;height: 70vh;">
  <div class="row" style="border-bottom: 1px solid #eee;padding-top: 5px;" (click)="selecionar(queue)"
       *ngFor="let queue of listQueue">
    <div class="col-1">
      {{queue.id}}
    </div>
    <div class="col-2">
      <span style="font-size: 0.8em;"> {{queue.situacao}}</span>
    </div>
    <div class="col-1">
      <i style="font-size: 2em;" [ngClass]="getClass(queue)"></i>
      <i style="font-size: 2em;" [ngClass]="{'fa fa-times-circle': queue.failed>0}"></i>
    </div>
    <div class="col-2">
      <ngb-progressbar type="success" textType="white" [value]="queue.progress" [showValue]="true"></ngb-progressbar>
    </div>
    <div class="col-6">
      {{queue.pageUrl}}
    </div>
  </div>
</div>
